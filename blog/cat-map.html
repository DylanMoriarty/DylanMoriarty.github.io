<!DOCTYPE html>

<!-- Check for needed JS libraries.-->

	
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
	
	
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
	
	
	
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.41.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.41.0/mapbox-gl.css' rel='stylesheet' />
	


<html>

	<head>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Dylan Moriarty</title>
<link href="https://fonts.googleapis.com/css?family=Maven+Pro:400,700" rel="stylesheet">

<!-- <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" type="text/css">
 -->
<title>Cat Map</title>
<meta name="description" content="">

<link rel="canonical" href="/blog/cat-map.html">
<link rel="alternate" type="application/rss+xml" title="DylanMoriarty.github.io" href="/feed.xml">

<link rel="stylesheet" href="/assets/styles/main-706d8a1a03.css">

<script src="/assets/scripts/vendor-0d6388c26b.js"></script>
<script src="/assets/scripts/bundle-692b84ce03.js"></script>

<link rel="apple-touch-icon" sizes="57x57" href="/assets/graphics/favicon/apple-icon-57x57.png">
<link rel="apple-touch-icon" sizes="60x60" href="/assets/graphics/favicon/apple-icon-60x60.png">
<link rel="apple-touch-icon" sizes="72x72" href="/assets/graphics/favicon/apple-icon-72x72.png">
<link rel="apple-touch-icon" sizes="76x76" href="/assets/graphics/favicon/apple-icon-76x76.png">
<link rel="apple-touch-icon" sizes="114x114" href="/assets/graphics/favicon/apple-icon-114x114.png">
<link rel="apple-touch-icon" sizes="120x120" href="/assets/graphics/favicon/apple-icon-120x120.png">
<link rel="apple-touch-icon" sizes="144x144" href="/assets/graphics/favicon/apple-icon-144x144.png">
<link rel="apple-touch-icon" sizes="152x152" href="/assets/graphics/favicon/apple-icon-152x152.png">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/graphics/favicon/apple-icon-180x180.png">
<link rel="icon" type="image/png" sizes="192x192"  href="/assets/graphics/favicon/android-icon-192x192.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/graphics/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/graphics/favicon/favicon-96x96.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/graphics/favicon/favicon-16x16.png">
<link rel="manifest" href="/assets/graphics/favicon/manifest.json">
<meta name="msapplication-TileColor" content="#ffffff">
<meta name="msapplication-TileImage" content="/assets/graphics/favicon/ms-icon-144x144.png">
<meta name="theme-color" content="#ffffff"> 

<meta property="og:description" content="Dylan's online smorgasbord of maps, illustrations, & musings." />
<meta property="og:url"content="dylanmoriarty.github.io" />

<meta property="og:title" content="Cat Map" />




	<body>

		<div class = "site-entire">
	<header class ="nav-down">
		<div class ="nav-container">
			<span class= "nav-home"><a href= "/"><i class="collecticons collecticons-dm"></i></a>
			<a href= "https://github.com/DylanMoriarty" target="_blank"><i class="collecticons collecticons-github"></i></a>
			<a href= "https://twitter.com/DylanMoriarty" target="_blank"><i class="collecticons collecticons-twitter"></i></a>
			</span>
			<!-- <a href="/days/"><h1>Days</h1></a>		 -->
			<a href="/cake/"><i class="collecticons collecticons-bubble"></i> <h1>Toons</h1></a>
			<a href="/tunes/"><i class="collecticons collecticons-music"></i> <h1>Tunes</h1>
			<a href="/about/"><i class="collecticons collecticons-glass"></i> <h1>Contact</h1></a>		
		</div>
	</header>


		<div class="welcomemat" id="welcomemat">
			<div class="welcomeimagebox">
				
					<img class="welcomemat-center" src="/assets/graphics//banners/catmapbanner.jpg"></img>
				
					<img class="tothetop" src="/assets/graphics/meta/cover.svg"></img>
			</div>
		</div>
		<div class="title-container">
			<h2 class="page-title">
				
					<a href="/">
						<i class="collecticons collecticons-myhome"></i> /</a>Cat Map
			</h2>

			<div class="page-subtitle">
				
					
				
			</div>
			<div class="welcomeillus">
			</div>
	</div>
</div>

		<div class="page-content">
		  <div class="wrapper">
		  <link href='https://fonts.googleapis.com/css?family=Quicksand' rel='stylesheet' type='text/css'>

<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="post-content" itemprop="articleBody">
    <!--[if lte IE 8]>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.6.4/leaflet.ie.css" />
<![endif]-->
<style>
  #catmap {
		position: absolute;
		height: 600px;
		width: 100%;
		left: 0;
		border: solid 1px #888;
	}
  #introbox{
    z-index: 5;
    position: absolute;
    top: 25vh;
    left: 25vw;
  }
  .full-bleed{
  	margin: 2em 0 1em;
  	height: 600px;
  }
	#map{
		width:100%;
		height: 600px;
		position:absolute;
		left:0;
	}
	.post-content img{
	}
</style>

<div class="full-bleed">
  <div id="introbox"><img src="../assets/graphics/blog/cat/intro.png" /></div>
	<div id="catmap"></div>
</div>
<figcaption>Map made to test manipulating a geojson in the browser via an interaction. Cats drawn for my own amusement.</figcaption>

<script>
	var howmanycats = Math.floor(Math.random()*10);
	var whatcat = Math.floor(Math.random()*10);
	var whatlat = Math.floor(Math.random()*(180)-90);
	var whatlon = Math.floor(Math.random()*(360)-180);
	var imgsrc = "../assets/graphics/blog/cat/"

	d3.select("#introbox").on("click", function(){
	  $("#introbox").fadeOut("fast");
	  amendGeojson();      
	  d3.select(".itsacat").remove();
	  makeJson(geojsonFeature);
	});

	//Leaflet Map Properties
	var map = L.map('catmap',{
	  maxZoom: 6,
	  minZoom: 2,
	  zoomControl: true
	}).setView([43.0667,-89.4000],4)
	// Set Bounds to the map by a Top-Left and Bottom-Right coordinates
	.setMaxBounds([ [90, -180],[-90, 180] ])
	;

	//Declare Tile Source
	L.tileLayer(
	  'http://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',{
	  attribution: 'Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community | Made by Dylan Moriarty.'
	  }).addTo(map);

	map.scrollWheelZoom.disable();

	//paste Corn.geojson here!

	//CSV Data in GeoJson form
	var geojsonFeature = {"type":"FeatureCollection","features":[{"type":"Feature","properties":{"image":"1","latitude":"39.381018","longitude":"-89.318848"},"geometry":{"type":"Point","coordinates":[-89.4000,43.0667]}}]};

	window.onload = makeJson(geojsonFeature);

	function makeJson(geojsonFeature){
	  L.geoJson(geojsonFeature, {
	    pointToLayer: function(feature, latlng){
	        var cats = L.icon({
	          iconUrl:""+imgsrc+"cat"+feature.properties.image+".png",
	          iconSize:[75, 75],
	          iconAnchor:[38, 38],
	          className: "itsacat",
	        });
	        return L.marker(latlng, {icon: cats});
	      },
	      onEachFeature: function(feature, layer){
	        layer.on('click', function (e){
	          $(".itsacat").remove();
	          amendGeojson();
	          d3.select(".itsacat").remove();
	          makeJson(geojsonFeature);
	        });
	    }
	  }).addTo(map);
	};

	function drawMeow(feature){
	  // $(".itsacat").each(function(feature){
	  //   var offsets = $(this).offset();
	  //   var top = offsets.top;
	  //   var left = offsets.left;
	  //   console.log(top)
	  //   console.log(left)

	  //   $('<img/>')
	  //   .attr('src','img/meow.png')
	  //   .attr('class', 'meow')
	  //   .attr('top', top)
	  //   .attr('bottom', left)
	  //   .appendTo('body');

	  // });
	};

	function amendGeojson(){
	  howmanycats = String(Math.floor(Math.random()*10));

	  for(i=0; i < howmanycats; i++){
	    whatcat = String(Math.floor(Math.random()*10)+1);
	    whatlat = Math.random()*(360)-180;
	    whatlon = Math.random()*(180)-90;
	    geojsonFeature.features.push(
	      {"type":"Feature","properties":{"image":whatcat,"latitude":String(whatlat), "longitude":String(whatlon)}, "geometry":{"type":"Point","coordinates":[whatlat,whatlon]}}
	    );
	  };
	}
</script>


  </div>
  
  </p>

	<div class = "article-foot">
		<a href="../"><i class="collecticons collecticons-myhome"></i>Homeward Bound</a>
	</div>
</article>
		  </div>
		</div>

		</div>
<footer id="footer">
  <div class="wrapper">
    <div class="centerme">Â©2014-18  Dylan Moriarty</div>
  </div>
</div>
</footer>



	

	</body>
</html>